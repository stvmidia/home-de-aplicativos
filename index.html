<!DOCTYPE html>
<html lang="pt-BR">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Aplicativos Stanismar</title>
    
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
      tailwind.config = {
        darkMode: 'class',
        theme: {
          extend: {
            fontFamily: {
              sans: ['Inter', 'sans-serif'],
              display: ['Space Grotesk', 'sans-serif'],
            },
            colors: {
              brand: {
                50: '#f0f9ff',
                100: '#e0f2fe',
                500: '#0ea5e9',
                600: '#0284c7',
                700: '#0369a1',
                900: '#0c4a6e',
              },
              accent: {
                500: '#8b5cf6', // Violet
                600: '#7c3aed',
              }
            },
            animation: {
              'fade-in': 'fadeIn 0.5s ease-out',
              'slide-up': 'slideUp 0.5s ease-out',
              'pulse-slow': 'pulse 3s cubic-bezier(0.4, 0, 0.6, 1) infinite',
            },
            keyframes: {
              fadeIn: {
                '0%': { opacity: '0' },
                '100%': { opacity: '1' },
              },
              slideUp: {
                '0%': { transform: 'translateY(20px)', opacity: '0' },
                '100%': { transform: 'translateY(0)', opacity: '1' },
              }
            }
          },
        },
      }
    </script>

    <!-- Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Space+Grotesk:wght@300;400;500;600;700&family=Inter:wght@300;400;500;600&display=swap" rel="stylesheet">

    <!-- Styles -->
    <style>
      body {
        transition: background-color 0.3s ease, color 0.3s ease;
      }
      
      /* Glass Panel: Header & Panels */
      .glass-panel {
        background: rgba(255, 255, 255, 0.85);
        backdrop-filter: blur(12px);
        -webkit-backdrop-filter: blur(12px);
        border: 1px solid rgba(0, 0, 0, 0.05);
        transition: all 0.3s ease;
      }
      .dark .glass-panel {
        background: rgba(30, 41, 59, 0.7);
        border: 1px solid rgba(255, 255, 255, 0.1);
      }
      
      /* Glass Card: Projects */
      .glass-card {
        background: #ffffff;
        backdrop-filter: blur(0px);
        border: 1px solid rgba(226, 232, 240, 1);
        transition: all 0.3s ease;
        box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.05), 0 2px 4px -1px rgba(0, 0, 0, 0.03);
      }
      .dark .glass-card {
        background: rgba(255, 255, 255, 0.05);
        backdrop-filter: blur(10px);
        border: 1px solid rgba(255, 255, 255, 0.05);
        box-shadow: none;
      }

      .glass-card:hover {
        transform: translateY(-5px);
        box-shadow: 0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04);
        border-color: rgba(139, 92, 246, 0.5);
      }
      .dark .glass-card:hover {
        background: rgba(255, 255, 255, 0.1);
        box-shadow: 0 10px 30px -10px rgba(139, 92, 246, 0.3);
      }
    </style>

    <!-- React, Babel & Imports -->
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <!-- CRITICAL FIX: Ensure all libraries use the EXACT SAME React instance via ?deps=react@18.2.0 -->
    <script type="importmap">
{
  "imports": {
    "react": "https://esm.sh/react@18.2.0",
    "react-dom/client": "https://esm.sh/react-dom@18.2.0/client?deps=react@18.2.0",
    "lucide-react": "https://esm.sh/lucide-react@0.460.0?deps=react@18.2.0",
    "react-dom/": "https://esm.sh/react-dom@^19.2.3/",
    "react/": "https://esm.sh/react@^19.2.3/"
  }
}
</script>
  </head>
  <body>
    <div id="root"></div>

    <!-- Application Code -->
    <script type="text/babel" data-type="module">
      import React, { useState, useEffect } from 'react';
      import { createRoot } from 'react-dom/client';
      import { 
        Sparkles, Settings, LayoutGrid, ExternalLink, Tag, 
        Plus, Trash2, Save, X, Image as ImageIcon, Link as LinkIcon, 
        Tag as TagIcon, Moon, Sun, LayoutTemplate, Type, Rocket 
      } from 'lucide-react';

      // --- CONSTANTS & DATA ---
      const INITIAL_DATA = [
        {
          id: '1',
          title: 'Gerador de Poemas Épicos',
          description: 'Uma aplicação que utiliza a API Gemini Pro para criar poemas no estilo camoniano sobre temas modernos.',
          url: 'https://aistudio.google.com/',
          imageUrl: 'https://picsum.photos/id/1/800/600',
          tags: ['Gemini Pro', 'Criativo', 'Literatura'],
          createdAt: Date.now()
        },
        {
          id: '2',
          title: 'Analisador de Sentimentos',
          description: 'Dashboard analítico que processa comentários de clientes e classifica sentimentos em tempo real.',
          url: 'https://github.com/',
          imageUrl: 'https://picsum.photos/id/20/800/600',
          tags: ['NLP', 'Analytics', 'Business'],
          createdAt: Date.now() - 1000
        },
        {
          id: '3',
          title: 'Assistente de Código React',
          description: 'Ferramenta para ajudar desenvolvedores a refatorar componentes React legado para Hooks modernos.',
          url: 'https://google.com',
          imageUrl: 'https://picsum.photos/id/60/800/600',
          tags: ['DevTools', 'Produtividade'],
          createdAt: Date.now() - 2000
        }
      ];

      const DEFAULT_CONFIG = {
        heroTitle: 'Hub de Inovação',
        heroHighlight: 'Stanismar',
        heroDescription: 'Explore uma coleção curada de aplicações inteligentes e experimentos criativos desenvolvidos com a tecnologia Google AI Studio.'
      };

      // --- COMPONENTS ---

      // Header Component
      const Header = ({ currentView, onNavigate }) => {
        return (
          <header className="sticky top-0 z-50 glass-panel border-b border-slate-200/50 dark:border-white/10 shadow-sm dark:shadow-lg">
            <div className="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
              <div className="flex justify-between items-center h-20">
                <div 
                  className="flex items-center gap-3 cursor-pointer group" 
                  onClick={() => onNavigate('home')}
                >
                  <div className="relative">
                    <div className="absolute -inset-1 bg-gradient-to-r from-brand-500 to-accent-600 rounded-full blur opacity-75 group-hover:opacity-100 transition duration-200"></div>
                    <div className="relative bg-white dark:bg-slate-900 p-2 rounded-full shadow-sm">
                      <Sparkles className="w-6 h-6 text-brand-600 dark:text-brand-400" />
                    </div>
                  </div>
                  <div className="flex flex-col">
                    <h1 className="text-2xl font-bold font-display bg-clip-text text-transparent bg-gradient-to-r from-slate-800 to-slate-500 dark:from-white dark:to-slate-400 tracking-tight">
                      Stanismar
                    </h1>
                    <span className="text-xs text-brand-600 dark:text-brand-400 font-medium tracking-wider uppercase">Aplicativos IA</span>
                  </div>
                </div>

                <nav className="flex items-center gap-2 sm:gap-4">
                  <button
                    onClick={() => onNavigate('home')}
                    className={`flex items-center gap-2 px-4 py-2 rounded-full transition-all duration-300 ${
                      currentView === 'home'
                        ? 'bg-brand-50 text-brand-700 border border-brand-200 dark:bg-brand-600/20 dark:text-brand-300 dark:border-brand-500/30'
                        : 'text-slate-500 dark:text-slate-400 hover:text-slate-900 dark:hover:text-white hover:bg-slate-100 dark:hover:bg-white/5'
                    }`}
                  >
                    <LayoutGrid className="w-4 h-4" />
                    <span className="hidden sm:inline font-medium">Galeria</span>
                  </button>
                  
                  <button
                    onClick={() => onNavigate('admin')}
                    className={`flex items-center gap-2 px-4 py-2 rounded-full transition-all duration-300 ${
                      currentView === 'admin'
                        ? 'bg-accent-50 text-accent-700 border border-accent-200 dark:bg-accent-600/20 dark:text-accent-300 dark:border-accent-500/30'
                        : 'text-slate-500 dark:text-slate-400 hover:text-slate-900 dark:hover:text-white hover:bg-slate-100 dark:hover:bg-white/5'
                    }`}
                  >
                    <Settings className="w-4 h-4" />
                    <span className="hidden sm:inline font-medium">Configuração</span>
                  </button>
                </nav>
              </div>
            </div>
          </header>
        );
      };

      // ProjectCard Component
      const ProjectCard = ({ project }) => {
        return (
          <div className="glass-card rounded-2xl overflow-hidden flex flex-col h-full group relative">
            <div className="absolute -inset-0.5 bg-gradient-to-r from-brand-500 to-accent-600 opacity-0 group-hover:opacity-20 transition duration-500 blur-xl"></div>
            
            <div className="relative h-48 overflow-hidden bg-slate-200 dark:bg-slate-800">
              <img 
                src={project.imageUrl || `https://picsum.photos/seed/${project.id}/800/600`} 
                alt={project.title}
                className="w-full h-full object-cover transform group-hover:scale-110 transition duration-700 ease-out"
                loading="lazy"
              />
              <div className="absolute inset-0 bg-gradient-to-t from-slate-900 via-slate-900/40 to-transparent opacity-60 dark:opacity-80"></div>
              
              <div className="absolute bottom-3 left-3 flex flex-wrap gap-2">
                {project.tags.map((tag, index) => (
                  <span 
                    key={index} 
                    className="px-2 py-1 text-[10px] uppercase tracking-wider font-bold bg-white/20 backdrop-blur-md border border-white/20 rounded-md text-white shadow-sm"
                  >
                    {tag}
                  </span>
                ))}
              </div>
            </div>

            <div className="p-5 flex-1 flex flex-col relative z-10">
              <h3 className="text-xl font-bold font-display text-slate-800 dark:text-white mb-2 group-hover:text-brand-600 dark:group-hover:text-brand-300 transition-colors">
                {project.title}
              </h3>
              
              <p className="text-slate-600 dark:text-slate-400 text-sm leading-relaxed mb-6 flex-1 line-clamp-3">
                {project.description}
              </p>

              <a 
                href={project.url} 
                target="_blank" 
                rel="noopener noreferrer"
                className="mt-auto w-full inline-flex items-center justify-center gap-2 px-6 py-3 bg-gradient-to-r from-brand-600 to-brand-700 hover:from-brand-500 hover:to-brand-600 text-white font-semibold rounded-xl transition-all duration-300 shadow-lg shadow-brand-900/20 group-hover:shadow-brand-500/20 transform group-hover:translate-y-[-2px]"
              >
                <span>Acessar App</span>
                <ExternalLink className="w-4 h-4" />
              </a>
            </div>
          </div>
        );
      };

      // AdminPanel Component
      const AdminPanel = ({ 
        projects, 
        onAddProject, 
        onDeleteProject,
        currentTheme,
        onToggleTheme,
        config,
        onUpdateConfig
      }) => {
        const [isAdding, setIsAdding] = useState(false);
        const [formData, setFormData] = useState({
          title: '',
          description: '',
          url: '',
          imageUrl: '',
          tags: ''
        });

        const handleSubmit = (e) => {
          e.preventDefault();
          
          if (!formData.title || !formData.url) return;

          const newProject = {
            id: crypto.randomUUID(),
            title: formData.title,
            description: formData.description,
            url: formData.url,
            imageUrl: formData.imageUrl || undefined,
            tags: formData.tags.split(',').map(t => t.trim()).filter(t => t.length > 0),
            createdAt: Date.now()
          };

          onAddProject(newProject);
          setFormData({ title: '', description: '', url: '', imageUrl: '', tags: '' });
          setIsAdding(false);
        };

        const handleConfigChange = (key, value) => {
          onUpdateConfig({
            ...config,
            [key]: value
          });
        };

        return (
          <div className="max-w-4xl mx-auto space-y-8 animate-fade-in">
            
            {/* Settings Header */}
            <div className="flex flex-col md:flex-row justify-between items-start md:items-center gap-4">
              <div>
                <h2 className="text-3xl font-display font-bold text-slate-900 dark:text-white">Configurações</h2>
                <p className="text-slate-500 dark:text-slate-400 mt-1">Gerencie a aparência e o conteúdo da página.</p>
              </div>
            </div>

            <div className="grid grid-cols-1 lg:grid-cols-2 gap-8">
              {/* Theme Selection */}
              <div className="glass-panel p-6 rounded-2xl border-l-4 border-brand-500">
                <h3 className="text-lg font-bold text-slate-900 dark:text-white mb-4 flex items-center gap-2">
                  <Sun className="w-5 h-5 text-brand-500" /> Tema
                </h3>
                <div className="flex gap-4">
                  <button
                    onClick={() => onToggleTheme('light')}
                    className={`flex-1 flex items-center justify-center gap-3 p-4 rounded-xl border-2 transition-all ${
                      currentTheme === 'light'
                        ? 'border-brand-500 bg-brand-50 text-brand-700'
                        : 'border-slate-200 dark:border-slate-700 bg-transparent text-slate-500 hover:bg-slate-50 dark:hover:bg-slate-800'
                    }`}
                  >
                    <Sun className="w-5 h-5" />
                    <span className="font-medium">Claro</span>
                  </button>
                  
                  <button
                    onClick={() => onToggleTheme('dark')}
                    className={`flex-1 flex items-center justify-center gap-3 p-4 rounded-xl border-2 transition-all ${
                      currentTheme === 'dark'
                        ? 'border-accent-500 bg-slate-800 text-accent-300'
                        : 'border-slate-200 dark:border-slate-700 bg-transparent text-slate-500 hover:bg-slate-50 dark:hover:bg-slate-800'
                    }`}
                  >
                    <Moon className="w-5 h-5" />
                    <span className="font-medium">Escuro</span>
                  </button>
                </div>
              </div>

              {/* Home Page Content Configuration */}
              <div className="glass-panel p-6 rounded-2xl border-l-4 border-accent-500">
                <h3 className="text-lg font-bold text-slate-900 dark:text-white mb-4 flex items-center gap-2">
                  <LayoutTemplate className="w-5 h-5 text-accent-500" /> Cabeçalho (Hero)
                </h3>
                <div className="space-y-4">
                  <div className="grid grid-cols-2 gap-4">
                    <div className="space-y-2">
                      <label className="text-xs font-semibold uppercase text-slate-500 dark:text-slate-400">Título</label>
                      <input
                        type="text"
                        value={config.heroTitle}
                        onChange={(e) => handleConfigChange('heroTitle', e.target.value)}
                        className="w-full bg-slate-50 dark:bg-slate-900/50 border border-slate-200 dark:border-slate-700 rounded-lg px-3 py-2 text-sm text-slate-900 dark:text-white focus:ring-2 focus:ring-accent-500 focus:outline-none"
                      />
                    </div>
                    <div className="space-y-2">
                      <label className="text-xs font-semibold uppercase text-brand-600 dark:text-brand-400">Destaque</label>
                      <input
                        type="text"
                        value={config.heroHighlight}
                        onChange={(e) => handleConfigChange('heroHighlight', e.target.value)}
                        className="w-full bg-slate-50 dark:bg-slate-900/50 border border-slate-200 dark:border-slate-700 rounded-lg px-3 py-2 text-sm text-slate-900 dark:text-white focus:ring-2 focus:ring-accent-500 focus:outline-none"
                      />
                    </div>
                  </div>
                  <div className="space-y-2">
                    <label className="text-xs font-semibold uppercase text-slate-500 dark:text-slate-400">Descrição Principal</label>
                    <textarea
                      rows={2}
                      value={config.heroDescription}
                      onChange={(e) => handleConfigChange('heroDescription', e.target.value)}
                      className="w-full bg-slate-50 dark:bg-slate-900/50 border border-slate-200 dark:border-slate-700 rounded-lg px-3 py-2 text-sm text-slate-900 dark:text-white focus:ring-2 focus:ring-accent-500 focus:outline-none resize-none"
                    />
                  </div>
                </div>
              </div>
            </div>

            <div className="border-b border-slate-200 dark:border-slate-700"></div>

            {/* Projects Management Header */}
            <div className="flex flex-col md:flex-row justify-between items-center gap-4">
              <h3 className="text-xl font-bold text-slate-900 dark:text-white">Seus Aplicativos</h3>
              <button
                onClick={() => setIsAdding(!isAdding)}
                className={`flex items-center gap-2 px-6 py-3 rounded-xl font-semibold transition-all duration-300 shadow-lg ${
                  isAdding 
                    ? 'bg-slate-200 text-slate-700 hover:bg-slate-300 dark:bg-slate-700 dark:text-white dark:hover:bg-slate-600' 
                    : 'bg-gradient-to-r from-accent-600 to-brand-600 text-white hover:brightness-110 shadow-brand-900/50'
                }`}
              >
                {isAdding ? <X className="w-5 h-5" /> : <Plus className="w-5 h-5" />}
                {isAdding ? 'Cancelar' : 'Novo Aplicativo'}
              </button>
            </div>

            {/* Add New Form */}
            {isAdding && (
              <div className="glass-panel p-6 rounded-2xl animate-slide-up border-l-4 border-accent-500">
                <h3 className="text-xl font-bold text-slate-900 dark:text-white mb-6 flex items-center gap-2">
                  <span className="p-1 bg-accent-500/20 text-accent-600 dark:text-accent-300 rounded">✨</span> Novo Projeto
                </h3>
                
                <form onSubmit={handleSubmit} className="space-y-5">
                  <div className="grid grid-cols-1 md:grid-cols-2 gap-5">
                    <div className="space-y-2">
                      <label className="text-sm font-medium text-slate-700 dark:text-slate-300">Título do Projeto *</label>
                      <input
                        type="text"
                        required
                        placeholder="Ex: ChatBot Gemini"
                        value={formData.title}
                        onChange={(e) => setFormData({...formData, title: e.target.value})}
                        className="w-full bg-slate-50 dark:bg-slate-900/50 border border-slate-200 dark:border-slate-700 rounded-lg px-4 py-3 text-slate-900 dark:text-white placeholder-slate-400 dark:placeholder-slate-500 focus:outline-none focus:ring-2 focus:ring-accent-500 focus:border-transparent transition-all"
                      />
                    </div>

                    <div className="space-y-2">
                      <label className="text-sm font-medium text-slate-700 dark:text-slate-300 flex items-center gap-2">
                        <LinkIcon className="w-3 h-3" /> URL do Aplicativo *
                      </label>
                      <input
                        type="url"
                        required
                        placeholder="https://..."
                        value={formData.url}
                        onChange={(e) => setFormData({...formData, url: e.target.value})}
                        className="w-full bg-slate-50 dark:bg-slate-900/50 border border-slate-200 dark:border-slate-700 rounded-lg px-4 py-3 text-slate-900 dark:text-white placeholder-slate-400 dark:placeholder-slate-500 focus:outline-none focus:ring-2 focus:ring-accent-500 focus:border-transparent transition-all"
                      />
                    </div>
                  </div>

                  <div className="space-y-2">
                    <label className="text-sm font-medium text-slate-700 dark:text-slate-300">Descrição</label>
                    <textarea
                      rows={3}
                      placeholder="Uma breve descrição sobre o que o aplicativo faz..."
                      value={formData.description}
                      onChange={(e) => setFormData({...formData, description: e.target.value})}
                      className="w-full bg-slate-50 dark:bg-slate-900/50 border border-slate-200 dark:border-slate-700 rounded-lg px-4 py-3 text-slate-900 dark:text-white placeholder-slate-400 dark:placeholder-slate-500 focus:outline-none focus:ring-2 focus:ring-accent-500 focus:border-transparent transition-all resize-none"
                    />
                  </div>

                  <div className="grid grid-cols-1 md:grid-cols-2 gap-5">
                    <div className="space-y-2">
                      <label className="text-sm font-medium text-slate-700 dark:text-slate-300 flex items-center gap-2">
                        <ImageIcon className="w-3 h-3" /> URL da Imagem (Opcional)
                      </label>
                      <input
                        type="url"
                        placeholder="https://..."
                        value={formData.imageUrl}
                        onChange={(e) => setFormData({...formData, imageUrl: e.target.value})}
                        className="w-full bg-slate-50 dark:bg-slate-900/50 border border-slate-200 dark:border-slate-700 rounded-lg px-4 py-3 text-slate-900 dark:text-white placeholder-slate-400 dark:placeholder-slate-500 focus:outline-none focus:ring-2 focus:ring-accent-500 focus:border-transparent transition-all"
                      />
                    </div>
                    <div className="space-y-2">
                       <label className="text-sm font-medium text-slate-700 dark:text-slate-300 flex items-center gap-2">
                        <TagIcon className="w-3 h-3" /> Tags (separadas por vírgula)
                      </label>
                      <input
                        type="text"
                        placeholder="IA, Chat, Ferramentas"
                        value={formData.tags}
                        onChange={(e) => setFormData({...formData, tags: e.target.value})}
                        className="w-full bg-slate-50 dark:bg-slate-900/50 border border-slate-200 dark:border-slate-700 rounded-lg px-4 py-3 text-slate-900 dark:text-white placeholder-slate-400 dark:placeholder-slate-500 focus:outline-none focus:ring-2 focus:ring-accent-500 focus:border-transparent transition-all"
                      />
                    </div>
                  </div>

                  <div className="pt-4 flex justify-end">
                    <button
                      type="submit"
                      className="flex items-center gap-2 px-8 py-3 bg-accent-600 hover:bg-accent-500 text-white font-bold rounded-xl transition-all shadow-lg shadow-accent-900/40"
                    >
                      <Save className="w-4 h-4" />
                      Salvar Projeto
                    </button>
                  </div>
                </form>
              </div>
            )}

            {/* List of Existing Projects */}
            <div className="space-y-4">
              <h3 className="text-lg font-medium text-slate-600 dark:text-slate-300 border-b border-slate-200 dark:border-slate-700 pb-2">
                Projetos Ativos ({projects.length})
              </h3>
              
              {projects.length === 0 ? (
                <div className="text-center py-12 bg-slate-50 dark:bg-slate-800/30 rounded-2xl border border-dashed border-slate-300 dark:border-slate-700">
                  <p className="text-slate-500">Nenhum aplicativo cadastrado ainda.</p>
                </div>
              ) : (
                <div className="grid gap-4">
                  {projects.map((project) => (
                    <div 
                      key={project.id}
                      className="flex items-center gap-4 bg-white dark:bg-slate-800/40 p-4 rounded-xl border border-slate-200 dark:border-slate-700/50 hover:border-brand-300 dark:hover:border-slate-600 transition-all group shadow-sm dark:shadow-none"
                    >
                      <div className="w-16 h-16 rounded-lg overflow-hidden bg-slate-100 dark:bg-slate-700 flex-shrink-0">
                        <img 
                          src={project.imageUrl || `https://picsum.photos/seed/${project.id}/200`} 
                          alt="" 
                          className="w-full h-full object-cover"
                        />
                      </div>
                      
                      <div className="flex-1 min-w-0">
                        <h4 className="font-bold text-slate-900 dark:text-white truncate">{project.title}</h4>
                        <p className="text-sm text-slate-500 dark:text-slate-400 truncate">{project.url}</p>
                      </div>

                      <div className="flex items-center gap-2">
                        <a 
                          href={project.url} 
                          target="_blank" 
                          rel="noopener noreferrer"
                          className="p-2 text-slate-400 hover:text-brand-600 dark:hover:text-brand-400 hover:bg-brand-50 dark:hover:bg-brand-400/10 rounded-lg transition-colors"
                          title="Testar Link"
                        >
                          <LinkIcon className="w-5 h-5" />
                        </a>
                        <button
                          onClick={() => onDeleteProject(project.id)}
                          className="p-2 text-slate-400 hover:text-red-600 dark:hover:text-red-400 hover:bg-red-50 dark:hover:bg-red-400/10 rounded-lg transition-colors"
                          title="Remover"
                        >
                          <Trash2 className="w-5 h-5" />
                        </button>
                      </div>
                    </div>
                  ))}
                </div>
              )}
            </div>
          </div>
        );
      };

      // App Component
      const App = () => {
        const [view, setView] = useState('home');
        const [projects, setProjects] = useState([]);
        const [loading, setLoading] = useState(true);
        const [theme, setTheme] = useState('light');
        const [config, setConfig] = useState(DEFAULT_CONFIG);

        const STORAGE_KEY = 'stanismar-apps-data';
        const THEME_KEY = 'stanismar-theme';
        const CONFIG_KEY = 'stanismar-config';

        useEffect(() => {
          // Load Projects
          const savedProjects = localStorage.getItem(STORAGE_KEY);
          if (savedProjects) {
            try {
              setProjects(JSON.parse(savedProjects));
            } catch (e) {
              console.error("Failed to parse saved projects", e);
              setProjects(INITIAL_DATA);
            }
          } else {
            setProjects(INITIAL_DATA);
          }

          // Load Config
          const savedConfig = localStorage.getItem(CONFIG_KEY);
          if (savedConfig) {
            try {
              setConfig(JSON.parse(savedConfig));
            } catch (e) {
              console.error("Failed to parse saved config", e);
              setConfig(DEFAULT_CONFIG);
            }
          }

          // Load Theme
          const savedTheme = localStorage.getItem(THEME_KEY);
          if (savedTheme) {
            setTheme(savedTheme);
          } else {
            setTheme('light');
          }

          setLoading(false);
        }, []);

        useEffect(() => {
          if (!loading) {
            localStorage.setItem(STORAGE_KEY, JSON.stringify(projects));
          }
        }, [projects, loading]);

        useEffect(() => {
          if (!loading) {
            localStorage.setItem(CONFIG_KEY, JSON.stringify(config));
          }
        }, [config, loading]);

        useEffect(() => {
          localStorage.setItem(THEME_KEY, theme);
          if (theme === 'dark') {
            document.documentElement.classList.add('dark');
          } else {
            document.documentElement.classList.remove('dark');
          }
        }, [theme]);

        const handleAddProject = (project) => {
          setProjects(prev => [project, ...prev]);
        };

        const handleDeleteProject = (id) => {
          if (window.confirm('Tem certeza que deseja remover este aplicativo?')) {
            setProjects(prev => prev.filter(p => p.id !== id));
          }
        };

        return (
          <div className="min-h-screen bg-slate-50 dark:bg-slate-900 text-slate-900 dark:text-slate-100 font-sans selection:bg-brand-500/30 selection:text-brand-700 dark:selection:text-brand-200 transition-colors duration-300">
            
            <div className="fixed inset-0 z-0 pointer-events-none overflow-hidden">
              <div className="absolute top-[-10%] left-[-10%] w-[40%] h-[40%] rounded-full bg-brand-400/20 dark:bg-brand-600/10 blur-[120px] animate-pulse-slow"></div>
              <div className="absolute bottom-[-10%] right-[-10%] w-[40%] h-[40%] rounded-full bg-accent-400/20 dark:bg-accent-600/10 blur-[120px] animate-pulse-slow" style={{ animationDelay: '1s' }}></div>
            </div>

            <Header currentView={view} onNavigate={setView} />

            <main className="relative z-10 max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12">
              
              {view === 'home' && (
                <div className="animate-fade-in">
                  <div className="text-center mb-16 space-y-4">
                    <div className="inline-flex items-center gap-2 px-3 py-1 rounded-full bg-brand-100 dark:bg-brand-500/10 border border-brand-200 dark:border-brand-500/20 text-brand-700 dark:text-brand-300 text-xs font-semibold uppercase tracking-widest mb-4 shadow-sm dark:shadow-none">
                      <Sparkles className="w-3 h-3" /> Portfolio de IA
                    </div>
                    <h2 className="text-4xl md:text-6xl font-display font-bold text-slate-900 dark:text-white tracking-tight">
                      {config.heroTitle} <span className="text-transparent bg-clip-text bg-gradient-to-r from-brand-600 to-accent-600 dark:from-brand-400 dark:to-accent-500">{config.heroHighlight}</span>
                    </h2>
                    <p className="text-lg text-slate-600 dark:text-slate-400 max-w-2xl mx-auto leading-relaxed">
                      {config.heroDescription}
                    </p>
                  </div>

                  <div className="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8">
                    {projects.length > 0 ? (
                      projects.map((project, idx) => (
                        <div key={project.id} className="animate-slide-up" style={{ animationDelay: `${idx * 100}ms` }}>
                          <ProjectCard project={project} />
                        </div>
                      ))
                    ) : (
                      <div className="col-span-full flex flex-col items-center justify-center py-20 bg-white dark:bg-white/5 rounded-3xl border border-dashed border-slate-300 dark:border-white/10 shadow-sm dark:shadow-none">
                        <Rocket className="w-16 h-16 text-slate-400 dark:text-slate-600 mb-4" />
                        <p className="text-xl text-slate-500 dark:text-slate-400 font-medium">Nenhum aplicativo encontrado.</p>
                        <button 
                          onClick={() => setView('admin')}
                          className="mt-4 text-brand-600 dark:text-brand-400 hover:text-brand-700 dark:hover:text-brand-300 font-medium underline underline-offset-4"
                        >
                          Adicionar seu primeiro app
                        </button>
                      </div>
                    )}
                  </div>
                </div>
              )}

              {view === 'admin' && (
                <AdminPanel 
                  projects={projects}
                  onAddProject={handleAddProject}
                  onDeleteProject={handleDeleteProject}
                  currentTheme={theme}
                  onToggleTheme={setTheme}
                  config={config}
                  onUpdateConfig={setConfig}
                />
              )}

            </main>

            <footer className="relative z-10 border-t border-slate-200 dark:border-white/5 bg-white/50 dark:bg-slate-900/50 backdrop-blur-sm mt-20 transition-colors">
              <div className="max-w-7xl mx-auto px-4 py-8 text-center">
                <p className="text-slate-500 text-sm">
                  © {new Date().getFullYear()} Aplicativos Stanismar. Desenvolvido com React, Tailwind e <span className="text-red-500 dark:text-red-400">♥</span>
                </p>
              </div>
            </footer>

          </div>
        );
      };

      // --- MOUNT ---
      const rootElement = document.getElementById('root');
      if (!rootElement) {
        throw new Error("Could not find root element to mount to");
      }
      const root = createRoot(rootElement);
      root.render(
        <React.StrictMode>
          <App />
        </React.StrictMode>
      );
    </script>
  </body>
</html>